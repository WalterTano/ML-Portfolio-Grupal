{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/chronic-kidney-disease/","result":{"data":{"datoCmsBlogpost":{"id":"DatoCmsBlogpost-z7COnUvYTWWfftn13WhI8A","slug":"chronic-kidney-disease","title":"Caso de estudio: Chronic Kidney Disease","excerpt":"","date":null,"html":"El objetivo de este trabajo es aplicar el proceso completo CRISP-DM al dataset Chronic Kidney Disease de la UCI: [Chronic Kidney Disease](https://archive.ics.uci.edu/dataset/336/chronic+kidney+disease) utilizando la herramienta RapidMiner, con el fin de encontrar un modelo de clasificación que permita predecir la enfermedad a partir de otros atributos a fin de ser tratada.\n\n![](https://www.datocms-assets.com/109010/1698538655-rapidminer.png)\n\n\n# 1-Comprensión del negocio\n\n\n\n\n> Chronic kidney disease is a progressive condition that affects >10% of the general population worldwide, amounting to >800 million individuals. Chronic kidney disease is more prevalent in older individuals, women, racial minorities, and in people experiencing diabetes mellitus and hypertension. Chronic kidney disease represents an especially large burden in low- and middle-income countries, which are least equipped to deal with its consequences. Chronic kidney disease has emerged as one of the leading causes of mortality worldwide, and it is one of a small number of non-communicable diseases that have shown an increase in associated deaths over the past 2 decades. The high number of affected individuals and the significant adverse impact of chronic kidney disease should prompt enhanced efforts for better prevention and treatment.\n\n\n\n>Chronic kidney disease (CKD) has emerged as one of the most prominent causes of death and suffering in the 21st century. Due in part to the rise in risk factors, such as obesity and diabetes mellitus, the number of patients affected by CKD has also been increasing, affecting an estimated 843.6 million individuals worldwide in 2017. Although mortality has declined in patients with end-stage kidney disease (ESKD), the Global Burden of Disease (GBD) studies have shown that CKD has emerged as a leading cause of worldwide mortality. It is, therefore, paramount that CKD is identified, monitored, and treated, and that preventative and therapeutic measures addressing CKD are systematically implemented worldwide.\n\n![](https://www.datocms-assets.com/109010/1698542027-ckd-imagen1.png)\n\n\n> Fuente:[National Library of Medicine.](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9073222/)\n\n\n\n\n\n\n\n# 2-Comprensión de los Datos\n## Atributos\n\n\t\t\tage\t\t-\tage\n\t\t\tbp\t\t-\tblood pressure\n\t\t\tsg\t\t-\tspecific gravity\n\t\t\tal\t\t- albumin\n\t\t\tsu\t\t-\tsugar\n\t\t\trbc\t\t-\tred blood cells\n\t\t\tpc\t\t-\tpus cell\n\t\t\tpcc\t\t-\tpus cell clumps\n\t\t\tba\t\t-\tbacteria\n\t\t\tbgr\t\t-\tblood glucose random\n\t\t\tbu\t\t-\tblood urea\n\t\t\tsc\t\t-\tserum creatinine\n\t\t\tsod\t\t-\tsodium\n\t\t\tpot\t\t-\tpotassium\n\t\t\themo\t-\themoglobin\n\t\t\tpcv\t\t-\tpacked cell volume\n\t\t\twc\t\t-\twhite blood cell count\n\t\t\trc\t\t-\tred blood cell count\n\t\t\thtn\t\t-\thypertension\n\t\t\tdm\t\t-\tdiabetes mellitus\n\t\t\tcad\t\t-\tcoronary artery disease\n\t\t\tappet\t-\tappetite\n\t\t\tpe\t\t-\tpedal edema\n\t\t\tane\t\t-\tanemia\n\t\t\tclass\t-\tclass\n\n  Detalles de los atributos\n\n    1.Age(numerical)\n    \tage in years\n    \n    2.Blood Pressure(numerical)\n      \tbp in mm/Hg\n    \n    3.Specific Gravity(nominal)\n\t  \tsg - (1.005,1.010,1.015,1.020,1.025)\n    \n    4.Albumin(nominal)\n\t\tal - (0,1,2,3,4,5)\n    \n    5.Sugar(nominal)\n\t\tsu - (0,1,2,3,4,5)\n    \n    6.Red Blood Cells(nominal)\n\t\trbc - (normal,abnormal)\n    \n    7.Pus Cell (nominal)\n\t\tpc - (normal,abnormal)\n    \n    8.Pus Cell clumps(nominal)\n\t\tpcc - (present,notpresent)\n    \n    9.Bacteria(nominal)\n\t\tba  - (present,notpresent)\n    \n    10.Blood Glucose Random(numerical)\n\t\tbgr in mgs/dl\n    \n    11.Blood Urea(numerical)\n\t\tbu in mgs/dl\n    \n    12.Serum Creatinine(numerical)\n\t\tsc in mgs/dl\n    \n    13.Sodium(numerical)\n\t\tsod in mEq/L\n    \n    14.Potassium(numerical)\n\t\tpot in mEq/L\n    \n    15.Hemoglobin(numerical)\n\t\themo in gms\n    \n    16.Packed  Cell Volume(numerical)\n    \n    17.White Blood Cell Count(numerical)\n\t\twc in cells/cumm\n    \n    18.Red Blood Cell Count(numerical)\n\t\trc in millions/cmm\n    \n    19.Hypertension(nominal)\n\t\thtn - (yes,no)\n    \n    20.Diabetes Mellitus(nominal)\n\t\tdm - (yes,no)\n    \n    21.Coronary Artery Disease(nominal)\n\t\tcad - (yes,no)\n    \n    22.Appetite(nominal)\n\t\tappet - (good,poor)\n    \n    23.Pedal Edema(nominal)\n\t\tpe - (yes,no)\n    \n    24.Anemia(nominal)\n\t\tane - (yes,no)\n    \n    25.Class (nominal)\n\t\tclass - (ckd,notckd)\n\n\n## Distribuciones\n![](https://www.datocms-assets.com/109010/1698542023-ckd-distribuciones1.png)\n![](https://www.datocms-assets.com/109010/1698542018-ckd-distribuciones2.png)\n![](https://www.datocms-assets.com/109010/1698542013-ckd-distribuciones3.png)\n![](https://www.datocms-assets.com/109010/1698542008-ckd-distribuciones4.png)\n\n\n\n\nAl mirar un histograma de las edades, se observa que la enfermedad cronica se encuentra mayormente antes de los 35 años de edad\n\n![](https://www.datocms-assets.com/109010/1698542003-ckd-distribuciones5.png)\n\n\n## Matriz de correlación\n\n![](https://www.datocms-assets.com/109010/1698541998-ckd-matriz.png)\n\n\nPuden observarse correlaciones mayores a 0.6 entre htn, dm, (hipertension y diabetes) y al (Albuim).\n\nTambien corrrelaciones negativas menores a -0.6 entre am (albuim), htn y dm (hipertension y diabetes), con (pus Cell) pc.\n\nExisten a su vez correlaciones negativas cercanas a -0.6 entre htn, dm, (hipertension y diabetes) y pe (pedal edema).\n\n\n\n## Valores Faltantes\nLos valores faltantes se denotan con ? y serán marcados como faltantes en la siguiente sección de preparación de los datos.\n\n\n# 3-Preparación de los datos\n\n## 3.1-Ingesta de datos y tratamiento de valores faltantes\nTraemos el dataset, seteamos el atributo class como label, ya que es el atributo clasificador, y declaramos los values ? como missings.\n\n\n\n![](https://www.datocms-assets.com/109010/1698541993-ckd-prep1.png)\n\n\nGeneramos una matriz de correlación (Vista en paso anterior de entendimiento de los datos)\n\n![](https://www.datocms-assets.com/109010/1698541989-ckd-prep2.png)\n\n\n## 3.2-Separar en training y test\nSe decide utilizar cross validation, y no realizar un split de la data.\nEsto nos asegura que no hayamos hecho un split especialmente favorable para nuestro modelo.\n\n\n\n# 4-Modelado\nSe decide aplicar Decision Tree y Naive Bayes como algoritmos de Clasificacion Supervisada.\n\nPara esto se crea un subproceso para modelado y evaluación\n\n![](https://www.datocms-assets.com/109010/1698541983-ckd-mod1.png)\n\n![](https://www.datocms-assets.com/109010/1698541971-ckd-mod2.png)\n\n\n# 5-Evaluación\nPara la evaluación de los modelos se utilizará Cross Validation con 10 folds por ser el estándar aceptado en la industria.\n\n## Modelo 1 Decision Tree -  Performance y Matriz de confusión\n\n\n![](https://www.datocms-assets.com/109010/1698541966-ckd-eval1.png)\n\n\nPerformance y Matriz de Confusión\n![](https://www.datocms-assets.com/109010/1698541962-ckd-eval2.png)\n\n\n## Modelo 2 Naive Bayes - Performance y Matriz de confusión\n![](https://www.datocms-assets.com/109010/1698541958-ckd-eval3.png)\nPerformance y Matriz de Confusión\n\n![](https://www.datocms-assets.com/109010/1698541954-ckd-eval4.png)\n\n\n\n\n## Curva ROC\n\nSe crea un nodo para evaluar la curva ROC y comparar ambos modelos, aqui puede observarse el proceso completo implementado en Rapid Miner\n\n![](https://www.datocms-assets.com/109010/1698541949-ckd-roc1.png)\n\n\n\nComo puede observarse en la curva ROC, Naive Bayes es un clasificador óptimo para este caso\n\n![](https://www.datocms-assets.com/109010/1698541942-ckd-roc2.png)\n\n\n\n# 6-Despliegue\nEn este caso no se realizará despliegue.\n\n# Conclusiones\nNaive Bayes ofrece una precisión del 100% por lo que puede considerarse un modelo adecuado para este caso sobre Decision Tree.\n\nEsta precisión fue obtenida una vez se eliminaron los registros con missing values. Al contar con estos, la precisión disminuye levemente alcanzando 99.25%.\n\nSe podría continuar investigando para intentar reducir el numero de atributos de entrada a fin de intentar predecir la enfermedad con la menor cantidad de datos posible.\n\n","isMarkdown":true,"image":{"url":"https://www.datocms-assets.com/109010/1698542933-ckd-title.jpg?auto=format","gatsbyImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/109010/1698542933-ckd-title.jpg?auto=format&w=1200","srcSet":"https://www.datocms-assets.com/109010/1698542933-ckd-title.jpg?auto=format&dpr=0.25&w=1200 300w,\nhttps://www.datocms-assets.com/109010/1698542933-ckd-title.jpg?auto=format&dpr=0.5&w=1200 600w,\nhttps://www.datocms-assets.com/109010/1698542933-ckd-title.jpg?auto=format&w=1200 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgLCgoLDg0XGhUNDhsVFRUNIxYdGBYVFhUmHy0jGh0oHRUiJDUlKC0vMjIyHSI4PTcwPCsxMi8BCgsLDg0OHA0QEC8cFigvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABAAGAMBIgACEQEDEQH/xAAZAAACAwEAAAAAAAAAAAAAAAADBAEFBgD/xAAdEAACAgEFAAAAAAAAAAAAAAABAgADBAUREiEi/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgP/xAAYEQEAAwEAAAAAAAAAAAAAAAABAAIRA//aAAwDAQACEQMRAD8A2FlFoXpTB14GRcd+Jl6l9DY5biIDH1NAxVVEVdCC4LFV0q4rsZ0btzbWbzIgbOyhzMn/2Q=="},"width":1200,"height":800},"alt":null}}},"pageContext":{"id":"DatoCmsBlogpost-z7COnUvYTWWfftn13WhI8A"}},"staticQueryHashes":["1987388502","3342712670"],"slicesMap":{"footer":"footer","header":"header"}}